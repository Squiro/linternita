---
slug: blockchain
title: Sobre blockchain
authors: [linterna]
tags: [linternita-ense침a]
---

쯈u칠 era eso de lo que todo el mundo estaba hablando entre 2016 y 2021?

<!-- truncate -->

## Introducci칩n

Si estabas vivo entre 2016 y 2021 es casi seguro que, incluso en contra de tu
voluntad, hayas sido bombardeado con alguna de las siguientes palabras o
t칠rminos: blockchain, Bitcoin, criptomonedas, NFTs, Proof of Work...

Es inevitable: en estos tiempos que vivimos cuando surge una nueva tecnolog칤a
"prometedora" la misma es ovacionada y aclamada como si fuese la segunda venida
de \<INSERTAR MES칈AS ACA SEGUN TU RELIGI칍N\>. Despu칠s de un rato, cuando el humo
comienza a disiparse, se ven las cosas como son y lo que promet칤a ser una
revoluci칩n de la humanidad pasa a un relativo olvido.

**Blockchain** es una de estas tecnolog칤as. Algo que, seg칰n algunos, promet칤a
_ser la rampa de la humanidad hacia el futuro_<sup>[1](#note-1)</sup>, algo que
fue tan popular que _crypto_ se convirti칩 en sin칩nimo de criptomonedas (en vez
de criptograf칤a), pero que hoy en d칤a qued칩 en segundo plano, reemplazada por
otra tecnolog칤a que est치 siendo aclamada y ovacionada como la nueva "cosa
caliente".

Pero es muy f치cil criticar una cosa cuando ya pas칩 su momento de fama y sus
promesas resultaron ser vac칤as. Lo dif칤cil es sostener este escepticismo cuando
las cosas se est치n desarrollando en vivo y en directo. Para eso no hay mejor
arma que el conocimiento: saber y entender c칩mo funciona algo es fundamental
para no ser arrastrado por olas masivas de desinformaci칩n y sensacionalismo.

Por eso, m치s tarde que nunca y sin que sea de mucha utilidad, en este post vamos
a explicar: **쯈U칄 ES UNA CADENA DE BLOQUES Y QU칄 TIENE DE IMPORTANTE??**

_<sup><a name="note-1">1</a>:</sup> Fragmento extra칤do de una conversaci칩n que
tuve con una persona, la cual lo dijo con absoluta seriedad y convicci칩n._

## 쯈U칄 ES UNA CADENA DE BLOQUES Y QU칄 TIENE DE IMPORTANTE??

Antes de meternos de lleno en este grandioso tema hay que detallar algunos
conceptos.

### 쯈u칠 es una aplicaci칩n distribuida?

Una aplicaci칩n distribuida es un programa/software donde los componentes que lo
conforman se encuentran ubicados (o distribuidos) en diferentes computadoras
conectadas entre s칤 por medio de una red.

Dichos componentes se comunican a trav칠s de mensajes, que son enviados por la
red, con el objetivo de brindar un servicio o proporcionar alguna funcionalidad
en espec칤fico.

Las computadoras que son parte de la aplicaci칩n suelen conocerse como _nodos_.
Cada nodo posee sus propios recursos (memoria, almacenamiento, ancho de banda,
etc.), y a su vez, un nodo puede ejercerse diferentes tareas y asumir distintos
roles.

Existen distintas formas de armar una red para una aplicaci칩n distribuida. En
este caso vamos a mencionar solo dos:

- Arquitectura cliente-servidor
- Arquitectura Peer to Peer (P2P)

#### Cliente servidor

<div
  style={{
    display: "flex",
    "justify-content": "center",
  }}
>
  ![red-cliente-servidor](red-cliente-servidor.png)
</div>

Quiz치 sea la forma m치s popular de armar una aplicaci칩n distribuida, ya que en
general la mayor칤a de las aplicaciones que usamos hoy en d칤a utilizan esta
arquitectura.

En este caso, tenemos un nodo central que act칰a como servidor. 쯉ervidor de qu칠?
De alguna funcionalidad o servicio (de ah칤 su nombre, se llama servidor porque
provee un servicio...).

Mientras que el resto de los nodos son considerados clientes: consumen y
solicitan los servicios ofrecidos por el servidor.

Lo importante es saber que la carga pesada de la aplicaci칩n la lleva el
servidor, y que no hay colaboraci칩n directa entre los clientes al momento de
ofrecer el servicio.

Veamos un ejemplo: imaginate una aplicaci칩n como Instagram. Cada persona que
tiene la aplicaci칩n descargada en su celular es un cliente. Cuando abr칤s la
aplicaci칩n y empez치s a... consumir contenido (o lo que sea), tu celular se
comunica con un servidor y es el servidor el que responde con el contenido que
est치s viendo.

Y si bien es posible que dos usuarios de Instagram se comuniquen, esta
comunicaci칩n no es directa, no sucede "cliente a cliente". La misma "pasa" a
trav칠s del servidor. Si se caen los servidores de Instagram, los clientes quedan
inutilizables, incapaces de consumir cualquier servicio.

#### Peer to Peer

<div
  style={{
    display: "flex",
    "justify-content": "center",
  }}
>
  ![red-p2p](red-p2p.png)
</div>

En este caso, cada computadora (nodo) perteneciente a la red contribuye a
brindar el servicio. Los nodos act칰an como clientes _y_ proveedores. De esta
forma, los mismos "comparten" una porci칩n de sus recursos (memoria, espacio en
disco, ancho de banda) con los otros miembros de la red.

No existe un nodo "central" (o si lo hay, su importancia queda reducida), y ya
no tenemos el problema de que si se cae el servidor nuestra aplicaci칩n queda
inutilizable. Para que la aplicaci칩n deje de funcionar, se tendr칤an que caer
_todos_ los nodos de la red. Es decir, en comparaci칩n con la anterior, esta
arquitectura es m치s resiliente ante fallos.

Veamos un ejemplo: aplicaciones de
[torrents](https://linternita.com/blog/tecnologia-actual-torrents). Cuando
descarg치s un archivo usando un cliente de torrents, no lo descarg치s desde un
servidor central, si no de los diferentes nodos que hay en la red P2P que posean
una copia del archivo. A su vez, a medida que lo vas descargando, tu computadora
ahora se vuelve capaz de compartirlo a otros nodos. Es decir: no solo actu치s
como un cliente solicitando un archivo, si no que tamb칠n actu치s como servidor
proveyendo ese archivo a otros.

Qu칠 tecnolog칤a impresionante, 쯡o?

### Esquema centralizado vs descentralizado

En t칠rminos de inform치tica, la centralizaci칩n/descentralizaci칩n hace referencia
a d칩nde est치n ubicados los recursos/qui칠n es el que provee los servicios de una
aplicaci칩n.

En un esquema centralizado, la mayor칤a de los recursos se encuentran en una sola
ubicaci칩n, y los servicios son ofrecidos por una sola computadora que act칰a como
servidor.

En un esquema descentralizado, los recursos se encuentran desparramados en
diferentes computadoras, y no hay una sola computadora de la cual dependa el
servicio.

O al menos, esto era as칤 en los inicios de la computaci칩n. Hoy en d칤a la
definici칩n no es tan literal.

No es que Instagram (nuevamente como ejemplo) tenga solamente UNA computadora
donde almacenan toda la informaci칩n y que provee todos los recursos para brindar
su servicio. Tiene varias (m치s de 2 seguramente), posicionadas en distintas
ubicaciones geogr치ficas incluso. Todas estas act칰an como servidores de la
aplicaci칩n.

Es por eso que tenemos que alejarnos un poco y verlo de forma m치s abstracta: s칤,
tiene distintos servidores, pero a칰n as칤 posee la forma de un esquema
centralizado. Todo lo que pasa en la aplicaci칩n depende de los servidores, y los
clientes no tienen injerencia alguna, y no pueden colaborar con sus recursos
para ayudar a ofrecer el servicio.

En temas relacionados a Blockchain, la descentralizaci칩n es algo nombrado a
menudo y con cierta relevancia. Tiene este aspecto tanto t칠cnico que acabamos de
mencionar, como tambi칠n un aspecto filos칩fico/ideol칩gico.

EJERCICIO PARA EL LECTOR: 쮺U츼L DE LAS ARQUITECTURAS DE APLICACIONES
DISTRIBUIDAS QUE VIMOS SE PRESTA MEJOR PARA CADA ESQUEMA? MAND츼 TUS RESPUESTAS A
[iluminame@linternita.com](mailto:iluminame@linternita.com)

### [La cadena](https://open.spotify.com/intl-es/track/5e9TFTbltYBg2xThimr0rU?si=3ae0d003d42e413d) de bloques

Bueno BASTA de pre치mbulos. 쯈u칠 es esto? 쯇or qu칠 es tan importante? 쯇or qu칠
todav칤a te sigo escuchando decir que nunca romper칤as la cadena?

Es como un libro contable.

Un libro contable digital.

En un libro contable se registran las transacciones que ocurrieron en un per칤odo
de tiempo. Por ejemplo, si ten칠s un emprendimiento de ropa, cada venta que
realices es una transacci칩n que ser치 registrada en una nueva l칤nea dentro de una
p치gina del libro contable.

<div
  style={{
    display: "flex",
    "justify-content": "center",
  }}
>
  ![libro-contable](libro-contable.png)
</div>

Con una blockchain podemos hacer pr치cticamente lo mismo: mantener un registro de
sucesos que ocurrieron en un determinado tiempo y orden. Pero como estamos en el
mundo digital, en vez de agrupar las transacciones en una p치gina de un libro,
las agrupamos en una estructura de datos que recibe el nombre de **bloque**.

Y as칤 como las p치ginas de un libro se siguen una con la otra, los bloques se
enlazan uno con otro formando una **cadena**.

**Lector/a de Linternita.com:** Ok. Todo esto es llamativo. Pero sigo sin
entender por qu칠 tanto revuelo. Visa existe desde 1970 y ya en 1973 estaban
usando un sistema computarizado para agilizar el procesamiento de transacciones
de tarjetas de cr칠dito. 쯄e est치s queriendo decir que el mundo no ten칤a una
forma de registrar transacciones digitalmente hasta que surgi칩 todo esto de
blockchain?

No. Justamente, mantener un registro de digital transacciones era un problema
resuelto hace mucho tiempo.

Pero a diferencia del servicio ofrecido por Visa (o cualquier otra instituci칩n
financiera), manejar transacciones usando blockchain tiene las siguientes
ventajas:

- **Inalterabilidad de la cadena:** la forma en la que est치n enlazados los
  bloques hace que la cadena sea inalterable. Es decir: una vez que un bloque es
  agregado a la cadena, no hay forma de modificarlo, ni de a침adirle o quitarle
  transacciones. El **esfuerzo computacional** que llevar칤a hacer esas
  modificaciones es tan grande que lo convierte en algo f칰til.

  Esto _no_ pasa con una tarjeta de cr칠dito, donde las transacciones pueden ser
  disputadas/desconocidas, obligando a la instituci칩n financiera a mediar.
  Dependiendo del resultado de la mediaci칩n, la transacci칩n puede ser alterada.
  Por lo tanto, el registro de transacciones no est치 escrito en piedra.

- **Descentralizaci칩n:** cuando hac칠s una compra con una tarjeta de cr칠dito
  (Visa, Mastercard, etc) la misma es procesada por una instituci칩n financiera.
  Todas las transacciones pasan a trav칠s de sus servidores y son estos los que
  tienen la 칰ltima palabra. Es decir: siguen un esquema centralizado.

  쮺u치l es el problema de esto? Que el manejo de tu transacci칩n depende total y
  absolutamente de un 칰nico tercero. En cambio, en blockchain, las transacciones
  son manejadas por los distintos nodos de una red Peer to Peer. No hay una
  autoridad central, todos los nodos de la red trabajan para brindar el
  servicio.

No necesariamente usemos una cadena de bloques para registrar transacciones
comerciales (compras, ventas, uso de tarjetas de cr칠dito, etc). Podemos usarlas
para registrar cualquier suceso. Pero torn칠 el post para este lado para hablar
de la primera aplicaci칩n que utiliz칩 la tecnolog칤a blockchain...

## Bitcoin

쮼xiste alguna forma de crear un sistema de pagos electr칩nico que no dependa en
depositar toda la confianza en un tercero?

_Esa_ pregunta es la raz칩n de existir de Bitcoin. Esa fue la raz칩n por la cual
surgi칩 todo esto. O al menos eso es lo que dice el autor en el paper titulado
[Bitcoin: A Peer-to-Peer Electronic Cash System](https://bitcoin.org/bitcoin.pdf).

Para crear este sistema de pagos, Bitcoin utiliza los conceptos que venimos
viendo hasta el momento: hay una cadena de bloques inalterable donde se
registran las transacciones, es una aplicaci칩n distribuida que sigue un esquema
descentralizado, utiliza la arquitectura Peer to Peer...

Pero un sistema de pagos involucra m치s cosas que solamente registrar que se
realiz칩 una transacci칩n. Tiene que haber un movimiento de plata desde el pagador
al pagado. Tambi칠n, al ser un sistema electr칩nico, hay que tener especial
cuidado para no caer en el problema del
[doble gasto](https://es.wikipedia.org/wiki/Doble_gasto) (cosa que no pasa con
dinero f칤sico porque no pod칠s gastar el mismo billete dos veces).

Si empezamos a hilar fino, surgen muchas preguntas: 쯖칩mo se valida que la
persona que est치 pagando tiene los suficientes fondos para hacer el pago? 쯈u칠
evita que un nodo introduzca transacciones falsas en la cadena de bloques? 쮻e
d칩nde sale el incentivo para que alguien quiera poner una computadora como nodo
de la red y ofrecer sus recursos para que el sistema funcione?

Hagamos un recorrido top-down de los elementos que conforman Bitcoin para
intentar responder estas preguntas.

### Bloques

Los bloques agrupan transacciones y est치n encadenados uno con el otro.

<div
  style={{
    display: "flex",
    "justify-content": "center",
  }}
>
  ![bitcoin-blocks](bitcoin-blocks.png)
</div>

Para "encadenar" los bloques se incluye una referencia al
[hash](https://es.wikipedia.org/wiki/Funci%C3%B3n_hash) del bloque anterior.
Para hacerlo simple, una _funci칩n hash_ toma una entrada y devuelve un valor
칰nico que depende de esa entrada. De ahora en adelante cuando mencione "hash"
voy a estar haciendo referencia al valor 칰nico que se obtiene.

Y ac치 pasa algo importante: este hash no es cualquier hash. Al momento de crear
un bloque nuevo, Bitcoin impone una restricci칩n: **el hash resultante de este
bloque tiene que contener un n칰mero de bits que est칠n en cero**.

Recordemos que el valor del hash calculado _depende_ de la entrada. Si nuestra
entrada es siempre la misma, obtendremos el mismo valor.

Los bloques en Bitcoin tienen un campo extra llamado _nonce_. Este campo es un
n칰mero, y la idea es que este n칰mero puede ser incrementado/modificado cuantas
veces queramos, con el objetivo de poder generar hashes distintos para el mismo
bloque.

Calcular _un_ hash es algo que se puede hacer relativamente r치pido. El problema
ac치 es que no nos sirve cualquier hash, necesitamos obtener s칤 o s칤 uno que
tenga N bits con valor cero. No hay forma f치cil de hacer esto. No queda otra que
hacerlo a "fuerza bruta": empezar con un nonce, calcular el hash, verificar si
tiene N bits en 0, incrementar el nonce, calcular el hash, verificar si tiene N
bits en 0, incrementar el nonce...

Esto es un proceso _muy_ lento. Com칰nmente recibe el nombre de "minado" y hay
nodos dentro de la red que solamente se encargan de _minar_ el bloque, es decir,
calcular un hash v치lido para que el bloque sea a침adido a la cadena.

Una vez que se obtiene un hash v치lido, el nodo que lo obtuvo difunde el bloque a
toda la red, otros nodos verifican que este todo sea correcto, y ese bloque
queda oficialmente a침adido a la cadena.

Supongamos que tenemos tres bloques A, B, y C en este orden:

<div
  style={{
    display: "flex",
    "justify-content": "center",
  }}
>
  A --> B --> C
</div>

Si un nodo "maligno" quisiera tomar ventaja del sistema y modificar el bloque A
con transacciones que le sean favorables, deber칤a volver a calcular el hash del
bloque A.

Y el hash del bloque B, porque el bloque B tiene una referencia al de A.

Y el hash del bloque C, porque el bloque C tiene una referencia al de B.

Ya de por s칤 es bastante complicado calcular el hash para _un_ solo bloque, pero
este nodo maligno est치 intentando calcular los hashes para 3 bloques distintos
con el fin de modificar la "historia" de la blockchain.

Y no solo eso: mientras este nodo est치 ocupado calculando esos 3 hashes, los
otros nodos "honestos" est치n trabajando para expandir la cadena con nuevos
bloques. En Bitcoin la cadena "verdadera" es aquella que sea la m치s larga. As칤
que el nodo maligno tendr칤a que, de alguna forma, sobrepasar a los dem치s nodos
honestos y tratar de crear una cadena m치s larga que ellos.

Mientras la red de Bitcoin est칠 compuesta por una mayor칤a de nodos honestos, es
efectivamente imposible que un nodo con malas intenciones introduzca cambios en
la historia de la cadena.

Por eso la cadena es inalterable.

### El incentivo de "minar" bloques

Cada vez que un nodo calcula un hash v치lido y difunde el nuevo bloque, recibe
"monedas".

La primera transacci칩n que se incluye en el nuevo bloque es una transacci칩n que
le atribuye monedas al nodo que lo est치 intentando minar.

Tambi칠n existe otro incentivo, las _tarifas de transacci칩n_, que tambi칠n son
atribuidas al nodo.

De esta forma, un nodo gana "plata" haciendo su trabajo. Es recompensado por los
recursos que est치 poniendo a disposici칩n. Adem치s, el incentivo monetario ayuda a
que el nodo se mantenga honesto: es preferible hacer las cosas bien y ganar
monedas que arriesgarse a rescribir la cadena de bloques, comprometiendo al
sistema y la validez del mismo.

### Unspent Transaction Outputs (UTXOs)

Los UTXOs son an치logos a los billetes que usamos para pagar algo. Son
efectivamente la "moneda" que se usa en Bitcoin al momento de realizar una
transacci칩n.

Un UTXO es una estructura de datos que almacena un valor que representa una
cantidad de monedas y cierta informaci칩n que ayuda a identificar a qui칠n le
pertenecen esas monedas.

Como su nombre lo indica, los UTXOs son la "salida" que se obtiene luego de
realizar una transacci칩n. Estas salidas permanecen "no gastadas" (unspent) hasta
que... alguien las gasta en una transacci칩n, generando nuevos UTXOs en el
proceso (pero que tendr치n distinto due침o).

<div
  style={{
    display: "flex",
    "flex-direction": "column",
    "align-items": "center",
  }}
>
  ![btc-bonafide](btc-bonafide.png)

_Figura 1: Probablemente el caf칠 m치s caro de la historia_

</div>

En el diagrama de arriba podemos ver un ejemplo donde Bob utiliza un UTXO con
valor de 5 monedas para comprar un caf칠 que con valor de 3. Cuando la
transacci칩n se realiza, el UTXO de 5 monedas se convierte en un Spent
Transaction Output (se gasta), y al mismo tiempo se generan dos nuevos UTXOs,
uno de valor 3 del cual Bonafide pasa a ser due침o, y el vuelto con valor 2 que
es de Bob.

Todos los nodos que conforman la red Bitcoin mantienen una copia del conjunto de
UTXOs en su totalidad, actualiz치ndola a medida que suceden nuevas transacciones.
Este conjunto de UTXOs es usado para verificar que una transacci칩n sea v치lida
(es decir: que los UTXOs no hayan sido ya gastados en otra transacci칩n,
incurriendo en doble gasto).

**쮺칩mo se genera el conjunto de UTXOs? 쮺칩mo funciona la validaci칩n de una
transacci칩n?** 游늷

Esas son muy buenas preguntas a las cuales les pondremos un "pin" y
responderemos luego.

### Transacciones

Las transacciones son un registro de los pagos dentro del sistema. Y al igual
que los bloques, las transacciones _tambi칠n_ est치n enlazadas.

<div
  style={{
    display: "flex",
    "flex-direction": "column",
    "align-items": "center",
  }}
>
  ![transaction-overview](transaction-overview.png)

_Vista simplificada de las transacciones en Bitcoin_

</div>

Una transacci칩n puede tener m칰ltiples entradas y salidas. Las salidas de una
transacci칩n son los UTXOs (que acabamos de ver), y las entradas... son los UTXOs
tambi칠n.

La estructura real de una transacci칩n en Bitcoin es algo como esto:

<div
  style={{
    display: "flex",
    "flex-direction": "column",
    "align-items": "center",
  }}
>
  ![bitcoin-transaction](bitcoin-transaction.png)

</div>

Un UTXO es identificado de forma 칰nica utilizando el _hash_ de la transacci칩n de
donde surgi칩, y adem치s, usando el _output index_, un n칰mero que indica cu치l de
las m칰ltiples salidas de una transacci칩n es esta.

### 쮺칩mo se genera el conjunto de UTXOs? 쮺칩mo se valida una transacci칩n?

Tiempo de sacar el pin y responder estas preguntas.

Un nodo tiene acceso a toda la cadena de bloques, es decir, al historial
completo de transacciones.

Para generar el conjunto de UTXOs, un nodo recorre el historial de
transacciones. A medida que avanza a trav칠s de cada bloque y transacci칩n,
realiza modificaciones en el conjunto. Cuando llega a la 칰ltima transacci칩n
tendr치 el conjunto de UTXOs final que representa el "estado actual".

Este trabajo de recorrer toda la cadena de bloques se hace una sola vez. Despu칠s
de eso, cuando se recibe un nuevo bloque, solo basta con analizar las
transacciones dentro de ese bloque y actualizar el conjunto de UTXOs
adecuadamente.

Para saber si una nueva transacci칩n es v치lida, el nodo tiene que verificar que
los UTXOs que est치n siendo utilizados en las entradas de la misma se encuentren
dentro del conjunto. Si no est치n, es posible que ya hayan sido gastados en una
transacci칩n previa, por lo que esta nueva transacci칩n queda invalidada.

## Conclusiones

**Lector/a de Linternita.com:** 쮼so es todo? 쯃a gente se volvi칩 loca por un
sistema de pagos electr칩nico?

S칤, m치s o menos.

La verdad es que la tecnolog칤a y el concepto detr치s de una blockchain _fue_ algo
innovador. Incluso impuls칩 y revitaliz칩 el mundo de la criptograf칤a (un tema que
ir칩nicamente evit칠 lo m치s que pude en este post): una oleada de gente nueva se
vio interesada en la criptograf칤a, se crearon nuevos algoritmos y protocolos,
algunos ideas y conceptos criptogr치ficos que ten칤an poco uso pr치ctico lo
encontraron gracias a blockchain.

Fuera de eso, no fue m치s que otra burbuja.

Bitcoin y otras criptomonedas siguen existiendo y son utilizadas a d칤a de hoy.
Se pueden comprar cosas con criptomonedas, pero no es algo masivo y soportado
por todos los comercios, ya que no se convirti칩 para nada en una moneda
est치ndar.

Pero m치s que nada las criptomonedas se terminaron usando como un activo
financiero debido a la alta especulaci칩n y volatilidad del valor de las mismas.

Se crearon otras cosas "interesantes" basadas en blockchain. Una de ellas fue la
tan conocida estupidez de los NFTs. Otras fueron ideas un poco m치s inteligentes,
como los [smart contracts](https://es.wikipedia.org/wiki/Contrato_inteligente).

A칰n as칤, hoy (en 2025) el _hype_ muri칩. No surgi칩 ninguna aplicaci칩n o soluci칩n
basada en blockchain que revolucionase al mundo (fuera de la locura financiera).
Muchos se dieron cuenta que blockchain era "una soluci칩n sin problema", y con el
tiempo, la industria la fue descartando y buscando algo nuevo en lo que
centrarse.

No es algo de lo que deber칤amos sorprendernos. Despu칠s de todo, el mundo se
mueve de burbuja en burbuja. Pas칩 en los 80s con la inteligencia artificial.
Pas칩 en los 90s/00s con dot-com. Y pas칩 entre 2016 y 2021 (fechas aproximadas)
con blockchain.

Y en la actualidad estamos con mucho _hype_ por la inteligencia artificial (de
nuevo). Pero eso es un tema para otro post.
